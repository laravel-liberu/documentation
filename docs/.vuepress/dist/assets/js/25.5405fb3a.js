(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{225:function(e,r,t){"use strict";t.r(r);var a=t(2),n=Object(a.a)({},function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"image-transformer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#image-transformer","aria-hidden":"true"}},[e._v("#")]),e._v(" Image Transformer")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://www.codacy.com/app/laravel-liberu/ImageTransformer?utm_source=github.com&utm_medium=referral&utm_content=laravel-liberu/ImageTransformer&utm_campaign=badger",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://api.codacy.com/project/badge/Grade/49a59dad1899460fa451510ef96307bb",alt:"Codacy Badge"}}),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://github.styleci.io/repos/96102464",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://github.styleci.io/repos/96102464/shield?branch=master",alt:"StyleCI"}}),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://packagist.org/packages/laravel-liberu/image-transformer",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://poser.pugx.org/laravel-liberu/image-transformer/license",alt:"License"}}),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://packagist.org/packages/laravel-liberu/image-transformer",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://poser.pugx.org/laravel-liberu/image-transformer/downloads",alt:"Total Downloads"}}),t("OutboundLink")],1),e._v(" "),t("a",{attrs:{href:"https://packagist.org/packages/laravel-liberu/image-transformer",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://poser.pugx.org/laravel-liberu/image-transformer/version",alt:"Latest Stable Version"}}),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("Image transformer dependency for "),t("a",{attrs:{href:"https://github.com/laravel-liberu/Liberu",target:"_blank",rel:"noopener noreferrer"}},[e._v("Laravel Liberu"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("p",[e._v("This package can work independently of the "),t("a",{attrs:{href:"https://github.com/laravel-liberu/Liberu",target:"_blank",rel:"noopener noreferrer"}},[e._v("Liberu"),t("OutboundLink")],1),e._v(" ecosystem.")]),e._v(" "),t("p",[e._v("For live examples and demos, you may visit "),t("a",{attrs:{href:"https://www.liberu.co.uk",target:"_blank",rel:"noopener noreferrer"}},[e._v("liberu.co.uk"),t("OutboundLink")],1)]),e._v(" "),t("h2",{attrs:{id:"installation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installation","aria-hidden":"true"}},[e._v("#")]),e._v(" Installation")]),e._v(" "),t("p",[e._v("Comes pre-installed in Liberu.")]),e._v(" "),t("p",[e._v("To install outside of Liberu:")]),e._v(" "),t("p",[t("code",[e._v("composer require laravel-liberu/image-transformer")])]),e._v(" "),t("p",[e._v("In order for the optimization to work, you need to have the following packages installed:")]),e._v(" "),t("ul",[t("li",[e._v("pngquant")]),e._v(" "),t("li",[e._v("gifsicle")]),e._v(" "),t("li",[e._v("jpegoptim")]),e._v(" "),t("li",[e._v("php7.1-gd or php-imagick")])]),e._v(" "),t("p",[e._v("On Linux, you can do that with: "),t("code",[e._v("sudo apt-get install pngquant gifsicle jpegoptim php7.1-gd")])]),e._v(" "),t("p",[t("strong",[e._v("IMPORTANT NOTE:")])]),e._v(" "),t("p",[e._v("The underlying image processing libraries may use a lot of memory,\nespecially if the processed files are large (for example, for an 8MB file, more than 128MB of memory might be used ),\nso make sure to configure php accordingly and/or do "),t("code",[e._v("ini_set(‘memory_limit’, ‘256M’);")])]),e._v(" "),t("p",[e._v("Failure to do so may result in silent errors if allotted memory is insufficient.")]),e._v(" "),t("h2",{attrs:{id:"features"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#features","aria-hidden":"true"}},[e._v("#")]),e._v(" Features")]),e._v(" "),t("ul",[t("li",[e._v("handles image optimization, using the "),t("a",{attrs:{href:"https://github.com/spatie/laravel-image-optimizer",target:"_blank",rel:"noopener noreferrer"}},[e._v("Laravel Image Optimizer"),t("OutboundLink")],1),e._v(" library")]),e._v(" "),t("li",[e._v("handles image cropping, using the "),t("a",{attrs:{href:"https://github.com/intervention/image",target:"_blank",rel:"noopener noreferrer"}},[e._v("Intervention Image"),t("OutboundLink")],1),e._v(" library")]),e._v(" "),t("li",[e._v("for the non essential libraries, handles missing libraries gracefully, logging the fact but does not throw an error")])]),e._v(" "),t("h2",{attrs:{id:"usage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#usage","aria-hidden":"true"}},[e._v("#")]),e._v(" Usage")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("ImageTransformer")]),e._v(" class has 2 public methods:")]),e._v(" "),t("ul",[t("li",[t("code",[e._v("optimize")]),e._v(", takes no argument and tries to optimize the file")]),e._v(" "),t("li",[t("code",[e._v("resize")]),e._v(", takes the target width and height and resizes the file, possibly changing the aspect ration")]),e._v(" "),t("li",[t("code",[e._v("width")]),e._v(", resizes the file to the given width, maintaining aspect ratio")]),e._v(" "),t("li",[t("code",[e._v("height")]),e._v(", resizes the file to the given height, maintaining aspect ratio")])]),e._v(" "),t("p",[e._v("Note, an "),t("code",[e._v("ImageTransformerException")]),e._v(" is thrown if:")]),e._v(" "),t("ul",[t("li",[e._v("the "),t("code",[e._v("gd")]),e._v(" or "),t("code",[e._v("imagick")]),e._v(" extensions are missing")]),e._v(" "),t("li",[e._v("a file type not supported for an uploaded file")]),e._v(" "),t("li",[e._v("an uploaded file fails the basic validation")])]),e._v(" "),t("h2",{attrs:{id:"external-dependencies"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#external-dependencies","aria-hidden":"true"}},[e._v("#")]),e._v(" External dependencies")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/spatie/laravel-image-optimizer",target:"_blank",rel:"noopener noreferrer"}},[e._v("Laravel Image Optimizer"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/intervention/image",target:"_blank",rel:"noopener noreferrer"}},[e._v("Intervention Image"),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"contributions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#contributions","aria-hidden":"true"}},[e._v("#")]),e._v(" Contributions")]),e._v(" "),t("p",[e._v("are welcome. Pull requests are great, but issues are good too.")]),e._v(" "),t("h2",{attrs:{id:"license"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#license","aria-hidden":"true"}},[e._v("#")]),e._v(" License")]),e._v(" "),t("p",[e._v("This package is released under the MIT license.")])])},[],!1,null,null,null);r.default=n.exports}}]);