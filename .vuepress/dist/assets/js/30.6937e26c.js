(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{171:function(e,t,a){"use strict";a.r(t);var r=a(0),s=Object(r.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[e._m(0),a("p",[a("a",{attrs:{href:"https://www.codacy.com/app/laravel-liberu/People?utm_source=github.com&utm_medium=referral&utm_content=laravel-liberu/People&utm_campaign=Badge_Grade",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://api.codacy.com/project/badge/Grade/aa76029e3e4c471d91370e29534f436f",alt:"Codacy Badge"}}),a("OutboundLink")],1),a("a",{attrs:{href:"https://github.styleci.io/repos/151952913",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://github.styleci.io/repos/151952913/shield?branch=master",alt:"StyleCI"}}),a("OutboundLink")],1),a("a",{attrs:{href:"https://packagist.org/packages/laravel-liberu/people",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://poser.pugx.org/laravel-liberu/people/license",alt:"License"}}),a("OutboundLink")],1),a("a",{attrs:{href:"https://packagist.org/packages/laravel-liberu/people",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://poser.pugx.org/laravel-liberu/people/downloads",alt:"Total Downloads"}}),a("OutboundLink")],1),a("a",{attrs:{href:"https://packagist.org/packages/laravel-liberu/people",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://poser.pugx.org/laravel-liberu/people/version",alt:"Latest Stable Version"}}),a("OutboundLink")],1)]),a("p",[e._v("Person management dependency for "),a("a",{attrs:{href:"https://github.com/laravel-liberu/Enso",target:"_blank",rel:"noopener noreferrer"}},[e._v("Laravel Enso"),a("OutboundLink")],1),e._v(".")]),a("p",[e._v("This package works exclusively within the "),a("a",{attrs:{href:"https://github.com/laravel-liberu/Enso",target:"_blank",rel:"noopener noreferrer"}},[e._v("Enso"),a("OutboundLink")],1),e._v(" ecosystem.")]),a("p",[e._v("The front end assets that utilize this api are present in the "),a("a",{attrs:{href:"https://github.com/liberu-ui/ui",target:"_blank",rel:"noopener noreferrer"}},[e._v("ui"),a("OutboundLink")],1),e._v(" package.")]),a("p",[e._v("For live examples and demos, you may visit "),a("a",{attrs:{href:"https://www.liberu.co.uk",target:"_blank",rel:"noopener noreferrer"}},[e._v("liberu.co.uk"),a("OutboundLink")],1)]),a("p",[a("a",{attrs:{href:"https://laravel-liberu.github.io/people/screenshots/bulma_001.png",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://laravel-liberu.github.io/people/screenshots/bulma_001_thumb.png",alt:"Screenshot"}}),a("OutboundLink")],1)]),a("p",[a("a",{attrs:{href:"https://laravel-liberu.github.io/people/screenshots/bulma_002.png",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://laravel-liberu.github.io/people/screenshots/bulma_002_thumb.png",alt:"Screenshot"}}),a("OutboundLink")],1)]),e._m(1),e._m(2),a("p",[e._v("Comes pre-installed in Enso.")]),e._m(3),e._m(4),e._m(5),e._m(6),a("p",[e._v("In previous Enso versions, there was no common ground between application users and\nother categories of actors which also represented people, for example contacts and (some types of) clients.\nThis sometimes lead to duplicated data as well as brittle and non reusable types and relationships.")]),a("p",[e._v("In order to move towards better maintainability, the decision to move common data into persons was taken.\nNow the people structure can be reused as needed.")]),e._m(7),e._m(8),e._m(9),e._m(10),e._m(11),e._m(12),a("p",[e._v("In your project you may have the need to alter and or extend the people structure by adding/removing table columns.\nTo achieve this, you'd need to:")]),e._m(13),e._m(14),e._m(15),e._m(16),a("p",[e._v("are welcome. Pull requests are great, but issues are good too.")]),e._m(17),a("p",[e._v("This package is released under the MIT license.")])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"people"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#people","aria-hidden":"true"}},[this._v("#")]),this._v(" People")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("sup",[this._v("click on the photo to view a large size screenshot")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"installation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installation","aria-hidden":"true"}},[this._v("#")]),this._v(" Installation")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"features"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#features","aria-hidden":"true"}},[this._v("#")]),this._v(" Features")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[e._v("separates the people centric operations from the core application user model")]),a("li",[e._v("allows the management of people and their details")]),a("li",[e._v("integrates with and extends the application user")]),a("li",[e._v("is built upon the premise that all the application users are people, but some people may not be application users")]),a("li",[e._v("can be reused and integrated with other modules which might handle categories of people (e.g. company people)")]),a("li",[e._v("a "),a("code",[e._v("PersonFactory")]),e._v(" is included by default in the package")]),a("li",[e._v("a policy is used to ensure that a person email update cannot be performed if the person is linked to an user")]),a("li",[e._v("custom validations may be added through the package configuration")]),a("li",[e._v("the people server-side select functionality is included by default")]),a("li",[e._v("the included "),a("code",[e._v("IsPerson")]),e._v(" trait can be used on other models that have a "),a("code",[e._v("person")]),e._v(" relationship and require email synchronization")]),a("li",[e._v("enums are used for person genders and titles")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"usage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#usage","aria-hidden":"true"}},[this._v("#")]),this._v(" Usage")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"backstory"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#backstory","aria-hidden":"true"}},[this._v("#")]),this._v(" Backstory")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"under-the-hood"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#under-the-hood","aria-hidden":"true"}},[this._v("#")]),this._v(" Under the Hood")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[e._v("the model comes with a  "),a("code",[e._v("hasUser")]),e._v(" helper to check if this person is linked to an user")]),a("li",[e._v("once the person has activity in the system (through any other model relationship), it cannot be deleted")]),a("li",[e._v("the proper way to delete a person is to first delete any other models it is linked to")]),a("li",[e._v("since an application user will always be a person, and for Laravel authentication purposes,\nthe user is supposed to have an email address and so the 'synchronization' between the user and the person is required.\nTherefore, if the user email is updated, the person email is also updated.\nThe same thing happens if a user is created from a person, but a different email is set.")]),a("li",[e._v("note that if users are created through a separate/external mechanism you will need to ensure that a corresponding\nperson is created/available during the process")]),a("li",[e._v("all "),a("code",[e._v("Person")]),e._v(" attributes are fillable")]),a("li",[e._v("the "),a("code",[e._v("uid")]),e._v(" Person attribute is meant as generic holder for a person's unique identifier\nwhich varies from situation to situation (e.g. SSN)")]),a("li",[e._v("the "),a("code",[e._v("Person")]),e._v(" model has the following helpers:\n"),a("ul",[a("li",[a("code",[e._v("hasUser")]),e._v(" - returns true if this person is associated to a user")]),a("li",[a("code",[e._v("gender")]),e._v(" - determines the gender based on the set person title. If no title is set, null is returned")]),a("li",[a("code",[e._v("isMandatary")]),e._v(" - returns true if this user is set a company's mandatary")])])]),a("li",[e._v("the "),a("code",[e._v("PersonPolicy")]),e._v(" ensures that:\n"),a("ul",[a("li",[e._v("administrators can make any changes")]),a("li",[e._v("a user can only set a")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Configuration")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("The "),t("code",[this._v("config/liberu/people.php")]),this._v(" configuration file, lets you customize the following:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("code",[this._v("formTemplate")]),this._v(", - string, is the project relative path to the person form template,\nuseful for overriding the original")]),t("li",[t("code",[this._v("tableTemplate")]),this._v(", - string, is the project relative path to the person table template,\nuseful for overriding the original")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"extending-the-people"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#extending-the-people","aria-hidden":"true"}},[this._v("#")]),this._v(" Extending the people")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("p",[e._v("add migration(s) to your local project, making the necessary changes. Note that if using sqlite for testing,\nsome of the migration commands may not be available")])]),a("li",[a("p",[e._v("create a new template for the person form, and declare it in the config ("),a("code",[e._v("formTemplate")]),e._v(")")])]),a("li",[a("p",[e._v("create a new template for the person table, and declare it in the config ("),a("code",[e._v("tableTemplate")]),e._v(")")])]),a("li",[a("p",[e._v("create a new person request validation")])]),a("li",[a("p",[e._v("bind your local implementations to the package's "),a("code",[e._v("ValidatePersonRequest")]),e._v(" in your local "),a("code",[e._v("AppServiceProvider")])]),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$this")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),a("span",{pre:!0,attrs:{class:"token property"}},[e._v("app")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("bind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("\n    ValidatesPersonRequest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" MyValidatePersonRequest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("class")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"publishes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#publishes","aria-hidden":"true"}},[this._v("#")]),this._v(" Publishes")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",[a("li",[a("code",[e._v("php artisan vendor:publish --tag=people-config")]),e._v(" - configuration file")]),a("li",[a("code",[e._v("php artisan vendor:publish --tag=liberu-config")]),e._v(" - a common alias for when wanting to update the config,\nonce a newer version is released, usually used with the "),a("code",[e._v("--force")]),e._v(" flag")]),a("li",[a("code",[e._v("php artisan vendor:publish --tag=people-factory")]),e._v(" - the factory for the "),a("code",[e._v("Person")]),e._v(" model")]),a("li",[a("code",[e._v("php artisan vendor:publish --tag=liberu-factories")]),e._v(" - a common alias for when wanting to update the factories,\nonce a newer version is released, usually used with the "),a("code",[e._v("--force")]),e._v(" flag")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"contributions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#contributions","aria-hidden":"true"}},[this._v("#")]),this._v(" Contributions")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"license"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#license","aria-hidden":"true"}},[this._v("#")]),this._v(" License")])}],!1,null,null,null);t.default=s.exports}}]);